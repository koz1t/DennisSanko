const body=document.querySelector("body"),pageControl=e=>{body&&(e?body.classList.add("body--lock"):body.classList.remove("body--lock"))},header=document.querySelector(".header"),burgerBtn=document.querySelector(".burger-btn");if(header&&burgerBtn){const e=e=>{e?(header.classList.add("header--burger-active"),pageControl(!0)):(pageControl(!1),header.classList.remove("header--burger-active"))},t=e=>{e.target.closest(".header")||e.target.closest(".burger-btn")||burgerBtn.click()},r=r=>{e(r),r?document.addEventListener("click",t):document.removeEventListener("click",t)};r(burgerBtn.classList.contains("burger-btn--active")),burgerBtn.addEventListener("click",(()=>{r(burgerBtn.classList.toggle("burger-btn--active"))}))}const initSubmenu=e=>{e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),e.parentElement.classList.toggle("active")}))}))};initSubmenu(document.querySelectorAll(".nav__item-has-child > a")),initSubmenu(document.querySelectorAll(".nav__submenu-item-has-child > a")),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".cards"),t=e.querySelectorAll(".cards__item"),r=e.querySelectorAll(".cards__pagination-item");let s=0;function c(){t.forEach((e=>e.classList.remove("--active"))),r.forEach((e=>e.classList.remove("--active"))),t[s].classList.add("--active"),r[s].classList.add("--active"),n()}function n(){if(0===s)e.querySelector(".cards__list").style.transform="translateX(0)";else{const r=t[s].offsetWidth,c=e.offsetWidth,n=t[s].offsetLeft-c/2+r/2;e.querySelector(".cards__list").style.transform=`translateX(-${n}px)`}}c(),n(),r.forEach(((e,t)=>{e.addEventListener("click",(()=>{s=t,c()}))}));let o=0,a=0;e.addEventListener("touchstart",(e=>{o=e.touches[0].clientX})),e.addEventListener("touchmove",(e=>{a=e.touches[0].clientX})),e.addEventListener("touchend",(()=>{o>a+50?s=(s+1)%t.length:o<a-50&&(s=(s-1+t.length)%t.length),c()})),window.addEventListener("resize",n)}));const tabs=document.querySelectorAll(".tabs");tabs.forEach((e=>{const t=e.querySelectorAll(".tabs__btn"),r=e.querySelectorAll(".tabs__content"),s=e.querySelector(".tabs__content-carousel"),c=e.querySelector(".tabs__btns");let n=0;if(t.length>0&&s&&t.length==r.length){for(let e=0;e<t.length;e++)t[e].classList.remove("--active"),r[e].classList.remove("--active");t[n].classList.add("--active"),r[n].classList.add("--active"),s.style.transform=`translateX(-${100*n}%)`,s.style.height=`${r[n].offsetHeight}px`;const e=()=>{const e=t[n],r=c.offsetWidth,s=e.offsetLeft-r/2+e.offsetWidth/2;c.scrollTo({left:s,behavior:"smooth"})};e(),t.forEach(((c,o)=>{c.addEventListener("click",(()=>{t[n].classList.remove("--active"),r[n].classList.remove("--active"),n=o,s.style.transform=`translateX(-${100*n}%)`,s.style.height=`${r[n].offsetHeight}px`,t[n].classList.add("--active"),r[n].classList.add("--active"),e()}))}))}}));const forms=document.querySelectorAll(".feedback-form__form");forms.forEach((e=>{const t=e.querySelectorAll(".feedback-form__input.--req input"),r=e.querySelector('input[name="email"]'),s=e.querySelector('input[name="phone"]'),c=e.querySelector(".custom-select"),n=c.querySelector(".custom-select__current"),o=c.querySelectorAll(".custom-select__option"),a=e.querySelector(".feedback-form__mark"),l=a.getAttribute("data-default");function i(e){const t=e.closest(".feedback-form__input");e.value.trim()?(t.classList.remove("--error"),f()):(t.classList.add("--error"),a.classList.add("--error"),a.textContent="Ошибка! Проверьте правильность заполнения данных")}function d(){const e=r.closest(".feedback-form__input");v(r.value)?(e.classList.remove("--error"),f()):(e.classList.add("--error"),a.classList.add("--error"),a.textContent="Ошибка! Проверьте правильность заполнения данных")}function u(){const e=s.closest(".feedback-form__input"),t=s.placeholder,r=s.value;t.split("").every(((e,t)=>"_"===e?/\d/.test(r[t]):e===r[t]))?(e.classList.remove("--error"),f()):(e.classList.add("--error"),a.classList.add("--error"),a.textContent="Ошибка! Проверьте правильность заполнения данных")}function f(){e.querySelectorAll(".feedback-form__input.--error").length>0||(a.classList.remove("--error"),a.textContent=l)}function v(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function m(){const e=c.querySelector(".custom-select__option.--current").getAttribute("data-mask");s.placeholder=e,s.value="",s.removeEventListener("input",L),s.addEventListener("input",L)}function L(e){let t=e.target.value.replace(/\D/g,"");let r=s.placeholder;e.target.selectionStart;for(let e=0;e<t.length;e++)r=r.replace("_",t[e]);e.target.value=r;let c=r.indexOf("_");-1===c&&(c=r.length),e.target.setSelectionRange(c,c)}t.forEach((e=>{e.addEventListener("blur",(()=>i(e))),e.addEventListener("input",(()=>i(e)))})),r.addEventListener("blur",d),r.addEventListener("input",d),s.addEventListener("blur",u),s.addEventListener("input",u),e.addEventListener("submit",(function(e){let c=!0;t.forEach((e=>{i(e),e.value.trim()||(c=!1)})),d(),v(r.value)||(c=!1),u(),s.closest(".feedback-form__input").classList.contains("--error")&&(c=!1),c||e.preventDefault()})),c.addEventListener("click",(function(){c.classList.toggle("--active")})),o.forEach((e=>{e.addEventListener("click",(function(){n.textContent=this.textContent,o.forEach((e=>e.classList.remove("--current"))),this.classList.add("--current"),m(),c.classList.remove("--active")}))})),document.addEventListener("click",(function(e){c.contains(e.target)||c.classList.remove("--active")})),m();e.querySelectorAll(".feedback-form__input").forEach((e=>{e.addEventListener("click",(function(){const t=e.querySelector("input");t&&t.focus()}))}))}));const elements=document.querySelectorAll("[data-typing]");elements.forEach((e=>{const t=e.getAttribute("data-typing");e.style.height=`${e.offsetHeight}px`;let r=0;e.innerHTML="",function s(){r<t.length&&(e.innerHTML+=t.charAt(r),r++,setTimeout(s,60))}()}));const items=document.querySelectorAll(".quotation-list__item");let currentIndex=0;function activateNextItem(){items.forEach((e=>e.classList.remove("--active"))),items[currentIndex].classList.add("--active"),currentIndex=(currentIndex+1)%items.length}activateNextItem(),setInterval(activateNextItem,3e3);const popupInit=(e,t)=>{if(e){document.querySelectorAll(t).forEach((t=>{t.addEventListener("click",(()=>{e.classList.add("popup--active")}))})),e.addEventListener("click",(t=>{t.target.closest(".popup__content")&&!t.target.closest(".popup__close")||e.classList.remove("popup--active")}))}},feedbackPopup=document.querySelector("#feedback-popup");popupInit(feedbackPopup,"[data-popup-feedback]");