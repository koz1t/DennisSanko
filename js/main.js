const body=document.querySelector("body"),pageControl=e=>{body&&(e?body.classList.add("body--lock"):body.classList.remove("body--lock"))},header=document.querySelector(".header"),burgerBtn=document.querySelector(".burger-btn");if(header&&burgerBtn){const e=e=>{e?(header.classList.add("header--burger-active"),pageControl(!0)):(pageControl(!1),header.classList.remove("header--burger-active"))},t=e=>{e.target.closest(".header")||e.target.closest(".burger-btn")||burgerBtn.click()},a=a=>{e(a),a?document.addEventListener("click",t):document.removeEventListener("click",t)};a(burgerBtn.classList.contains("burger-btn--active")),burgerBtn.addEventListener("click",(()=>{a(burgerBtn.classList.toggle("burger-btn--active"))}))}const menuParentItems=document.querySelectorAll(".nav__item-has-child");menuParentItems.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),e.classList.toggle("active")}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".cards"),t=e.querySelectorAll(".cards__item"),a=e.querySelectorAll(".cards__pagination-item");let l=0;function r(){t.forEach((e=>e.classList.remove("--active"))),a.forEach((e=>e.classList.remove("--active"))),t[l].classList.add("--active"),a[l].classList.add("--active"),n()}function n(){if(0===l)e.querySelector(".cards__list").style.transform="translateX(0)";else{const a=t[l].offsetWidth,r=e.offsetWidth,n=t[l].offsetLeft-r/2+a/2;e.querySelector(".cards__list").style.transform=`translateX(-${n}px)`}}r(),n(),a.forEach(((e,t)=>{e.addEventListener("click",(()=>{l=t,r()}))}));let s=0,o=0;e.addEventListener("touchstart",(e=>{s=e.touches[0].clientX})),e.addEventListener("touchmove",(e=>{o=e.touches[0].clientX})),e.addEventListener("touchend",(()=>{s>o+50?l=(l+1)%t.length:s<o-50&&(l=(l-1+t.length)%t.length),r()})),window.addEventListener("resize",n)}));const tabs=document.querySelectorAll(".tabs");tabs.forEach((e=>{const t=e.querySelectorAll(".tabs__btn"),a=e.querySelectorAll(".tabs__content"),l=e.querySelector(".tabs__content-carousel"),r=e.querySelector(".tabs__btns");let n=0;if(t.length>0&&l&&t.length==a.length){for(let e=0;e<t.length;e++)t[e].classList.remove("--active"),a[e].classList.remove("--active");t[n].classList.add("--active"),a[n].classList.add("--active"),l.style.transform=`translateX(-${100*n}%)`,l.style.height=`${a[n].offsetHeight}px`;const e=()=>{const e=t[n],a=r.offsetWidth,l=e.offsetLeft-a/2+e.offsetWidth/2;r.scrollTo({left:l,behavior:"smooth"})};e(),t.forEach(((r,s)=>{r.addEventListener("click",(()=>{t[n].classList.remove("--active"),a[n].classList.remove("--active"),n=s,l.style.transform=`translateX(-${100*n}%)`,l.style.height=`${a[n].offsetHeight}px`,t[n].classList.add("--active"),a[n].classList.add("--active"),e()}))}))}}));const form=document.querySelector(".feedback-form__form"),requiredFields=form.querySelectorAll(".feedback-form__input.--req input"),emailField=form.querySelector('input[name="email"]'),phoneInput=form.querySelector('input[name="phone"]'),countryCodeSelect=form.querySelector('select[name="country-code"]');function validateField(e){const t=e.closest("label");e.value.trim()?t.classList.remove("--error"):t.classList.add("--error")}function validateEmailField(){const e=emailField.closest("label");validateEmail(emailField.value)?e.classList.remove("--error"):e.classList.add("--error")}function validatePhoneField(){const e=phoneInput.closest("label"),t=phoneInput.placeholder,a=phoneInput.value;t.split("").every(((e,t)=>"_"===e?/\d/.test(a[t]):e===a[t]))?e.classList.remove("--error"):e.classList.add("--error")}function validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function updatePhonePlaceholderAndMask(){const e=countryCodeSelect.options[countryCodeSelect.selectedIndex].getAttribute("data-mask");phoneInput.placeholder=e,phoneInput.value="",phoneInput.removeEventListener("input",maskInput),phoneInput.addEventListener("input",maskInput)}function maskInput(e){let t=e.target.value.replace(/\D/g,"");let a=phoneInput.placeholder;e.target.selectionStart;for(let e=0;e<t.length;e++)a=a.replace("_",t[e]);e.target.value=a;let l=a.indexOf("_");-1===l&&(l=a.length),e.target.setSelectionRange(l,l)}requiredFields.forEach((e=>{e.addEventListener("blur",(()=>validateField(e))),e.addEventListener("input",(()=>validateField(e)))})),emailField.addEventListener("blur",validateEmailField),emailField.addEventListener("input",validateEmailField),phoneInput.addEventListener("blur",validatePhoneField),phoneInput.addEventListener("input",validatePhoneField),form.addEventListener("submit",(function(e){let t=!0;requiredFields.forEach((e=>{validateField(e),e.value.trim()||(t=!1)})),validateEmailField(),validateEmail(emailField.value)||(t=!1),validatePhoneField(),phoneInput.closest("label").classList.contains("--error")&&(t=!1),t||e.preventDefault()})),countryCodeSelect.addEventListener("change",updatePhonePlaceholderAndMask),updatePhonePlaceholderAndMask();